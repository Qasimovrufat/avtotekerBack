@model  Wheel.User.Models.commonModel
@using res = Wheel.User.Properties.Resources
<section id="header">

    <div class="top">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-12">
                    <div class="social-contact">
                        <div class="social">
                            <a href="@res.twitterUrl">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a href="@res.fbUrl">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                        </div>
                        <div class="contact">
                            <i class="fas fa-phone"></i>
                            <p>TEL: (077) 592 44 44</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-12 ">
                    <div class="search-lang">
                        <div class="search-box">
                            <input type="text" placeholder="search">
                            <a href="">
                                <i class="fas fa-search"></i>
                            </a>
                        </div>
                        <div class="language-selector">
                            <div class="dropdown">
                                <img src="Public/img/globus.svg" alt="">
                                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
                                        aria-expanded="false">
                                    EN
                                </button>
                                <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                    <a class="dropdown-item active" href="/Home/SetCulture/?culture=en-US&href=@Request.Url">EN</a>

                                    <a class="dropdown-item" href="/Home/SetCulture/?culture=az&href=@Request.Url">AZ</a>
                                    <a class="dropdown-item" href="/Home/SetCulture/?culture=ru&href=@Request.Url">RU</a>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="bottom">

        <nav class="navbar navbar-expand-lg navbar-dark bg-light">
            <div class="container">
                <a class="navbar-brand" href="#">

                    <img style="width:99%;" src="~/Public/img/Logo-blue.svg" alt="">
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                        aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="ml-5 collapse navbar-collapse justify-content-around" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                @res.homePage
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">@res.sale</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">@res.campaign</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">@res.aboutUs</a>

                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">@res.contact</a>

                        </li>
                    </ul>
                    <div class="log-reg d-flex">
                        @if (User.Identity.IsAuthenticated)
                        {
                            <div class="btn-group">
                                <button onclick="window.location.href='/account/logout'" type="button" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    @res.logout
                                </button>

                            </div>
                        }
                        else
                        {
                            <div class="btn-group">
                            <button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                @res.login
                            </button>
                            <div class="dropdown-menu dropdown-login dropdown-menu-right" role="menu">
                                <p>@res.login</p>
                                <hr>
                                <form  class="px-4 py-3" id="login newLoginForm">


                                    <div class="form-group">

                                        <input type="email" placeholder="Email" name="email" class="form-control" id="exampleDropdownFormEmail1" placeholder="email@example.com">
                                    </div>
                                    <div class="form-group">

                                        <input name="password" type="password" class="form-control" id="exampleDropdownFormPassword1" placeholder="Password">
                                    </div>
                                    <div class="btn-sign ml-auto mr-3">
                                        <button type="submit" class="btn btn-primary confirmLogin">Sign In</button>
                                        <button class="btn btn-primary btn-cancel">Cancel</button>
                                    </div>

                                </form>

                            </div>
                                </div>
                            <div class="btn-group">
                                <button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    @res.createAccount
                                </button>
                                <div class="dropdown-menu dropdown-register dropdown-menu-right" role="menu">
                                    <p>@res.createAccount</p>
                                    <hr>
                                    <form class="px-4 py-3" id="login newRegisterForm">
                                        <div class="row">
                                            <div class="col-lg-6 col-md-12">
                                                <div class="form-group">

                                                    <input type="text" name="fullname" placeholder="First Name" class="form-control" id="exampleDropdownFormEmail1" >
                                                </div>
                                                <div class="form-group">

                                                    <input type="text" name="password" type="password" class="form-control" id="exampleDropdownFormPassword1" placeholder="Password">
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-12">
                                                <div class="form-group">

                                                    <input name="email"  placeholder="Email" class="form-control" id="exampleDropdownFormEmail1" >
                                                </div>
                                                <div class="form-group">

                                                    <input name="phonenumber" type="Phone" class="form-control" id="exampleDropdownFormPassword1" placeholder="Phone">
                                                </div>
                                            </div>
                                            <div class="btn-sign ml-auto mr-3">
                                                <button type="submit" class="btn btn-primary confirmRegister">Register</button>
                                                <button class="btn btn-primary btn-cancel">Cancel</button>
                                            </div>
                                        </div>


                                    </form>

                                </div>
                            </div>
                        }



                    </div>
                </div>

            </div>
    </div>
    </nav>



    </div>
</section>
<script>
    $(".confirmRegister").click(function () {
        $(".registerError").html('');
        var data = $("#newRegisterForm").serialize();
        $.ajax({
            url: "/Account/Create",
            type: "POST",
            data: data,
            success: function (result) {
                if (result.status == "ok") {
                    $('#newRegisterModal').modal('hide');
                }
                else if (result.status == "login") {
                    window.location.reload();
                }
                else {

                    $.each(result.message, function (index, message) {
                        $(".registerError").append(message + "<br/>");
                    })
                    $(".registerError").show();
                }
            }

        })
    });

    $(".confirmLogin").click(function () {
        var data = $("#newLoginForm").serialize();
        $.ajax({
            url: "/Account/Login",
            type: "POST",
            data: data,
            success: function (result) {
                if (result.status == "ok") {
                    $('#newLoginModal').modal('hide');
                    window.location = "/";
                }
            }

        })
    })

    $("#currencySelect").change(function () {
        var cur = $(this).val();
        localStorage.thisCurrency = cur;
        $(".priceAZN,.priceUSD").hide();
        $(".price" + cur).show();
    })
</script>
